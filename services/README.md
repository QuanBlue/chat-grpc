<h1 align="center">
  <b>gRPC Service Document</b>
</h1>

<p align="center">[Provide a brief introduction to the gRPC service. Explain its purpose, functionality, and any relevant background information.]</p>

<p align="center">
  <b>
      <a href="https://github.com/QuanBlue/chat-grpc">Documentation</a> •
      <a href="https://github.com/QuanBlue/chat-grpc/issues/">Report Bug</a> •
      <a href="https://github.com/QuanBlue/chat-grpc/issues/">Request Feature</a>
  </b>
</p>

<br/>

# Introduction

**The gRPC service** combines two main functionalities: Chat and User. This service provides communication capabilities through the Chat service and user management functionalities through the User service. It leverages the power of gRPC, a high-performance and language-agnostic remote procedure call (RPC) framework, to facilitate efficient communication between clients and the server.

# GRPC Overview

**gRPC** is an open-source, high-performance remote procedure call (RPC) framework developed by Google. It enables efficient and scalable communication between distributed systems and is designed to be language-agnostic, allowing developers to build robust and interoperable applications across different programming languages.

## General gRPC code

**1**. **Define your gRPC service** using protocol buffers. This will define the messages and methods used for communication.

1. Define your service in a .proto file using protocol buffer syntax. (`chat.proto` in `/service`)

   ```go
   syntax = "proto3";

   service ChatService {
     rpc SendMessage(Message) returns (Message) {}
     rpc ReceiveMessage(Empty) returns (stream Message) {}
   }

   message Message {
     string user_name = 1;
     string text = 2;
   }

   message Empty {}
   ```

   <details>
     <summary>Explain variable</summary>

   This defines a:

   -  **Message** type with `text` and `sender` fields
   -  **ChatService** with two methods:
      -  `SendMessage` takes a `Message` object as input and returns a `Message` object
      -  `ReceiveMessage` takes an empty `Empty` object as input and returns a stream of `Message` objects.

   </details>

2. Use the generated code to implement gRPC service.

   ```shell
   python -m grpc_tools.protoc -I [path/to/protos/dir] --python_out=[path/to/output/python] --grpc_python_out=[path/to/output/grpc/python] [/path/to/protos/file.proto]
   ```

   Example:

   ```shell
    python3 -m grpc_tools.protoc -I service --python_out=./service --grpc_python_out=./service ./service/user.proto

   python3 -m grpc_tools.protoc -I service/proto --python_out=./service --grpc_python_out=./service ./service/proto/chat.proto
   ```

   the generated user_pb2.py file typically contains the message definitions and methods for interacting with the message data, while the user_pb2_grpc.py file contains the generated gRPC service stubs and methods for interacting with the gRPC service.

Here's a breakdown of the roles of each file:

-  user_pb2.py:

   -  Defines the message types using Protocol Buffers syntax. These message types represent the data structures that will be exchanged between the client and the server.
   -  Provides methods for working with the message data, such as setting and getting field values, serialization, and deserialization.
   -  You can use the message types defined in this file to create, manipulate, and transfer data between the client and the server.

-  user_pb2_grpc.py:
   -  Contains the generated gRPC service stubs and methods that the client and server use to communicate.
   -  Provides classes and methods that allow the client to make gRPC requests to the server and receive responses.
   -  Implements the server-side logic for handling the gRPC requests from the client.
   -  You can use the service stubs and methods defined in this file to interact with the gRPC service, make remote procedure calls (RPCs), and handle the communication between the client and server.

The separation of concerns between these two files allows for a clear distinction between the message definitions and the service definitions in your gRPC application. It helps maintain a clean and organized codebase and makes it easier to work with both the message data and the gRPC service functionality separately.

It's important to note that these files are generated by the Protocol Buffers compiler (protoc) based on the .proto file that you provide, and their exact names and contents may vary depending on your specific proto file and the options used during compilation.

---

-  \*\_pb2.py:

   -  This file contains the generated Python code for the message types defined in your .proto file.
   -  It includes the classes representing your message types, as well as methods for working with the message data, such as serialization, deserialization, setting and getting field values, and more.
   -  This file allows you to create, manipulate, and transfer data using the message types defined in your .proto file.

-  \*\_pb2_grpc.py:
   -  This file contains the generated gRPC service stubs and methods for interacting with the gRPC service defined in your .proto file.
   -  It includes classes and methods that allow the client to make gRPC requests to the server, receive responses, and handle the communication between the client and server.
   -  This file also implements the server-side logic for handling the gRPC requests from the client.
   -  It provides the necessary functionality to make remote procedure calls (RPCs) and work with the gRPC service defined in your .proto file.

# Service Overview

The `Chat` + `User service` enables clients to engage in real-time chat conversations and perform user-related operations. The Chat service allows clients to send and receive messages, while the User service enables user creation, retrieval, and management.

**The Chat service:** clients can establish a bidirectional stream to send and receive chat messages, facilitating interactive and real-time communication. This service is ideal for building chat applications, collaboration tools, or any system requiring instant messaging capabilities.

**The User service:** provides endpoints to create new users, retrieve user information, and perform user management operations. It allows clients to manage user profiles, authentication, and access control within their applications.

# Getting Started

To get started with the Chat + User service, follow these steps:

## Prerequisites

-  **Python:** >= 3.10.7
-  **gRPC tools:** gRPC compiler, Install [here](https://grpc.io/docs/languages/python/quickstart/).

---
